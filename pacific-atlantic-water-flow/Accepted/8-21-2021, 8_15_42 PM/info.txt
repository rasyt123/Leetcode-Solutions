{"id":542214632,"lang":"cpp","time":"5 months, 3 weeks","timestamp":1629602142,"status_display":"Accepted","runtime":"37 ms","url":"/submissions/detail/542214632/","is_pending":"Not Pending","title":"Pacific Atlantic Water Flow","memory":"17 MB","code":"class Solution {\npublic:\n    vector<vector<int>> pacificAtlantic(vector<vector<int>>& M) {\n        vector<vector<int>> ans;\n        if (M.empty()) return ans;\n        int y = M.size(), x = M[0].size();\n        vector<char> dp(y * x);\n        for (int i = 0; i < y; i++) {\n            dfs(M, dp, i, 0, 1, 0);\n            dfs(M, dp, i, x - 1, 2, 0);\n        }\n        for (int i = 0; i < x; i++) {\n            dfs(M, dp, 0, i, 1, 0);\n            dfs(M, dp, y - 1, i, 2, 0);\n        }\n        for (int i = 0; i < y; i++) \n            for (int j = 0; j < x; j++) \n                if (dp[i * x + j] == 3) \n                    ans.push_back({i, j});\n        return ans;\n    }\nprivate:\n    void dfs(const vector<vector<int>>& M, vector<char>& dp, int i, int j, int w, int h) {\n        int y = M.size(), x = M[0].size(), ij = i * x + j, newh = M[i][j];;\n        if ((dp[ij] & w) || M[i][j] < h) return;\n        dp[ij] += w;\n        if (i + 1 < y) dfs(M, dp, i + 1, j, w, newh);\n        if (i > 0) dfs(M, dp, i - 1, j, w, newh);\n        if (j + 1 < x) dfs(M, dp, i, j + 1, w, newh);\n        if (j > 0) dfs(M, dp, i, j - 1, w, newh);\n    }\n};","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"pacific-atlantic-water-flow"}